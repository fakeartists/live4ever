{"version":3,"sources":["components/RotateScreen/RotateScreen.js"],"names":["RotateScreen","props","_this","Object","E_projects_fakeArtits_live4ever_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","E_projects_fakeArtits_live4ever_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","E_projects_fakeArtits_live4ever_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","preventScrolling","e","preventDefault","stopPropagation","setOrientationParentClass","arguments","length","undefined","state","orientation","document","body","classList","add","remove","handleOrientationChange","device","getOrientation","setState","os","isAndroid","window","addEventListener","container","passive","prevProps","prevState","removeEventListener","_this2","style","visibility","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","classnames","ref","r","iconSrc","src","alt","iconAlt","copy","children","PureComponent","defaultProps"],"mappings":"0PASqBA,sBACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAiCRQ,iBAAmB,SAAAC,GACjBA,EAAEC,iBACFD,EAAEE,mBApCeV,EAuCnBW,0BAA4B,WACV,eADoDC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA3BZ,EAAKe,MAAMC,aAEhDC,SAASC,KAAKC,UAAUC,IAAI,yBAC5BH,SAASC,KAAKC,UAAUE,OAAO,0BA1ClBrB,EA6CnBsB,wBAA0B,WACpBC,IAAOC,mBAAqBxB,EAAKe,MAAMC,aACzChB,EAAKyB,SAAS,CAAET,YAAaO,IAAOC,oBA7CtCxB,EAAKe,MAAQ,CACXC,YAAaO,IAAOC,kBAHLxB,mFAQjBG,KAAKQ,4BAEDe,IAAGC,UACLC,OAAOC,iBAAiB,oBAAqB1B,KAAKmB,yBAElDM,OAAOC,iBAAiB,SAAU1B,KAAKmB,yBAGzCnB,KAAK2B,UAAUD,iBAAiB,YAAa1B,KAAKI,iBAAkB,CAAEwB,SAAS,+CAG9DC,EAAWC,GACxB9B,KAAKY,MAAMC,cAAgBiB,EAAUjB,aACvCb,KAAKQ,2EAKHe,IAAGC,UACLC,OAAOM,oBAAoB,oBAAqB/B,KAAKmB,yBAErDM,OAAOM,oBAAoB,SAAU/B,KAAKmB,yBAE5CnB,KAAK2B,UAAUI,oBAAoB,YAAa/B,KAAKI,mDAoB9C,IAAA4B,EAAAhC,KAEDiC,EAAQ,CACZC,WAFyC,cAA3BlC,KAAKY,MAAMC,YAEH,UAAY,UAGpC,OACEsB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAW,eAAgBvC,KAAKJ,MAAM0C,WAAYL,MAAOA,EAAOO,IAAK,SAAAC,GAAC,OAAKT,EAAKL,UAAYc,IAC1GN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZtC,KAAKJ,MAAM8C,SAAWP,EAAAC,EAAAC,cAAA,OAAKM,IAAK3C,KAAKJ,MAAM8C,QAASJ,UAAU,cAAcM,IAAK5C,KAAKJ,MAAMiD,UAC5F7C,KAAKJ,MAAMkD,MAAQX,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eAAetC,KAAKJ,MAAMkD,MAC1D9C,KAAKJ,MAAMmD,kBA/DoBC,kBA4E1CrD,EAAasD,aAAe,CAC1BH,KAAM,gDACND,QAAS","file":"static/js/7.7ab29a43.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport 'default-passive-events';\nimport checkProps from '@jam3/react-check-extra-props';\nimport { device, os } from '@jam3/detect';\n\nimport './RotateScreen.scss';\n\nexport default class RotateScreen extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orientation: device.getOrientation()\n    };\n  }\n\n  componentDidMount() {\n    this.setOrientationParentClass();\n\n    if (os.isAndroid) {\n      window.addEventListener('orientationchange', this.handleOrientationChange);\n    } else {\n      window.addEventListener('resize', this.handleOrientationChange);\n    }\n\n    this.container.addEventListener('touchmove', this.preventScrolling, { passive: false });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.orientation !== prevState.orientation) {\n      this.setOrientationParentClass();\n    }\n  }\n\n  componentWillUnmount() {\n    if (os.isAndroid) {\n      window.removeEventListener('orientationchange', this.handleOrientationChange);\n    } else {\n      window.removeEventListener('resize', this.handleOrientationChange);\n    }\n    this.container.removeEventListener('touchmove', this.preventScrolling);\n  }\n\n  preventScrolling = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  setOrientationParentClass = (orientation = this.state.orientation) => {\n    orientation === 'landscape'\n      ? document.body.classList.add('rotate-screen-visible')\n      : document.body.classList.remove('rotate-screen-visible');\n  };\n\n  handleOrientationChange = () => {\n    if (device.getOrientation() !== this.state.orientation) {\n      this.setState({ orientation: device.getOrientation() });\n    }\n  };\n\n  render() {\n    const visible = this.state.orientation === 'landscape';\n    const style = {\n      visibility: visible ? 'visible' : 'hidden'\n    };\n\n    return (\n      <div className={classnames('RotateScreen', this.props.className)} style={style} ref={r => (this.container = r)}>\n        <div className=\"container\">\n          {this.props.iconSrc && <img src={this.props.iconSrc} className=\"rotate-icon\" alt={this.props.iconAlt} />}\n          {this.props.copy && <p className=\"rotate-text\">{this.props.copy}</p>}\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n\nRotateScreen.propTypes = checkProps({\n  copy: PropTypes.string,\n  iconSrc: PropTypes.string,\n  iconAlt: PropTypes.string\n});\n\nRotateScreen.defaultProps = {\n  copy: 'Please rotate your device into portrait mode.',\n  iconAlt: 'Please rotate your device'\n};\n"],"sourceRoot":""}