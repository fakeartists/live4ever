(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{238:function(e,t,a){"use strict";var n=a(11),r=a.n(n),s=a(16),o=a(20),i=a.n(o),c=a(45),p=a(85),l=a.n(p),u=a(84),d="entering",b="entered",h="exiting";t.a=function(e){var t,a=function(){var e=Object(s.a)(r.a.mark(function e(a){var n,s,o,c=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:i.a,s=c.length>2&&void 0!==c[2]?c[2]:i.a,!a){e.next=10;break}return o=Object(u.a)(a)||0,n(o),e.next=7,l()(o);case 7:t.style.display="",e.next=12;break;case 10:t.style.display="",s();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=e.prototype.componentDidMount;e.prototype.componentDidMount=function(){n&&n.call(this),(t=Object(c.findDOMNode)(this)).style.display="none",window.scrollTo(0,0),this.props.transitionState!==b&&this.props.transitionState!==d||a(this.props.previousRoute,this.onEnter,this.onAppear)};var o=e.prototype.componentDidUpdate;return e.prototype.componentDidUpdate=function(){o&&o.apply(this,arguments),this.props.transitionState===d?a(this.props.previousRoute,this.onEnter,this.onAppear):this.props.transitionState===h&&function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a)()}(this.onLeave)},e}},240:function(e,t,a){"use strict";var n=a(1),r=a(3),s=a(5),o=a(2),i=a(6),c=a(0),p=a.n(c),l=a(12),u=a.n(l),d=(a(21),a(15)),b=a(30),h=a(86),m=a(14),f=a(48),v=(a(241),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).updateHighest=function(e){a.setState({highest:e})},a.state={highest:0},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t,a,n,r,s,o=Object(m.b)(),i=o&&o.variation,c=this.props.isSingle?"single":"",l=this.state.highest,d=this.props.data.webgl?" preview":"",v=this.props.previewFunction,E=Object(f.b)(o.bidData.bid,i),y=l=E>l?E:l;return l=Object(f.b)(l,i),this.props.isSingle?(e=p.a.createElement("p",{className:"box-info-desc",dangerouslySetInnerHTML:{__html:this.props.data.full_description}}),"open"===this.props.data.status&&(t=p.a.createElement("button",{className:"box-info-button cta",onClick:this.props.clickFunction},this.props.copy.button_box_asset)),""!==d&&(s=p.a.createElement("div",{className:"box-info-image-overlay"},p.a.createElement("div",{className:"box-info-image-overlay-ico"}),p.a.createElement("p",null,this.props.copy.image_click))),a=p.a.createElement("div",{className:"box-info-asset"},p.a.createElement("li",null,p.a.createElement("ul",null,p.a.createElement("h1",null,this.props.copy.title_chain,":"),p.a.createElement("p",null,this.props.data.chain_info)),p.a.createElement("ul",null,p.a.createElement("h1",null,this.props.copy.title_contract,":"),p.a.createElement("p",null,this.props.data.contract_address)),p.a.createElement("ul",null,p.a.createElement("h1",null,this.props.copy.title_token,":"),p.a.createElement("p",null,this.props.data.token_id)),p.a.createElement("ul",null,p.a.createElement("h1",null,this.props.copy.title_blockchain),p.a.createElement("p",null,this.props.data.blockchain)))),this.props.data.reserve&&(n=p.a.createElement("div",{className:"box-info-box "+c},p.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_reserve),p.a.createElement("p",{className:"box-info-status-top-bid"},this.props.data.reserve+" "+this.props.copy.piramid_ico))),"open"===this.props.data.status&&(r=p.a.createElement("div",{className:"box-info-status-bid"},p.a.createElement("p",{className:"box-info-status-bid-title"},this.props.copy.title_user_bid),p.a.createElement("p",{className:"box-info-status-bid-bid"},E+" "+this.props.copy.piramid_ico)))):(e=p.a.createElement("p",{className:"box-info-desc"},this.props.data.short_description),d="",v=null,t=p.a.createElement(b.a,{className:"box-info-button cta",link:"./asset/"+this.props.data._id},this.props.copy.button_box_home)),p.a.createElement("div",{className:u()("box-info",c)},p.a.createElement("div",{className:"box-info-bid"},p.a.createElement("div",{className:"box-info-image"+d,onClick:v},p.a.createElement("img",{src:this.props.data.image,alt:this.props.data.title}),s),p.a.createElement("div",{className:"box-info-data"},p.a.createElement("h2",{className:"box-info-data-title"},this.props.data.title),p.a.createElement("p",{className:"box-info-data-edition"},this.props.copy.title_edition+" "+this.props.data.edition+" "+this.props.copy.separator_edition+" "+this.props.data.sets),p.a.createElement("div",{className:"box-info-data-image"+d,onClick:v},p.a.createElement("img",{src:this.props.data.image,alt:this.props.data.title}),s),e,p.a.createElement("div",{className:"box-info-status"},p.a.createElement("div",{className:"box-info-status-top"},p.a.createElement("div",{className:"box-info-box "+c},p.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_bid),p.a.createElement("p",{className:"box-info-status-top-bid"},l+" "+this.props.copy.piramid_ico),p.a.createElement("p",{className:"box-info-status-info"},y+" "+this.props.copy.sub_title_bid)),p.a.createElement("div",{className:"box-info-box "+c},p.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_time),p.a.createElement(h.a,{copy:this.props.copy,isLanding:!1,endDate:this.props.data.ends})),n),p.a.createElement("div",{className:"box-info-status-bottom"},t,r)))),a)}}]),t}(p.a.PureComponent));v.defaultProps={copy:{},data:{},isSingle:!1,clickFunction:null,previewFunction:null};t.a=Object(d.b)(function(e){return{mineIsOpen:e.mineState.data}},function(e){return{}},null,{withRef:!0})(v)},241:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),s=a(16),o=a(1),i=a(3),c=a(5),p=a(2),l=a(6),u=a(0),d=a.n(u),b=a(15),h=a(12),m=a.n(h),f=(a(21),a(238)),v=a(9),E=a(13);a(37).a.register("assetLoaded",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a.ASSET_LOADED:return t.loaded;default:return e}});var y=a(39),x=a(47),g=a(59),O=a(240),j=a(36),_=a.n(j),k=a(22),w=a(19),N=a(48),S=a(14),L=(a(246),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).getRank=function(e){var t=Object(S.b)().login.id;return a.state.leaderboard.findIndex(function(e){return e._id===t})+1},a.getHighest=function(){return a.state.leaderboard.length>0?a.state.leaderboard[0].bid:0},a.updateLeaderboard=Object(s.a)(r.a.mark(function e(){var t,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.e)();case 2:a.users=e.sent,t=[],n=0,e.t0=r.a.keys(a.users);case 6:if((e.t1=e.t0()).done){e.next=14;break}if(s=e.t1.value,a.users.hasOwnProperty(s)&&t.push(a.users[s]),!(n>=a.maxUsers)){e.next=11;break}return e.abrupt("break",14);case 11:n++,e.next=6;break;case 14:t.sort(function(e,t){return e.bid>t.bid?-1:1}),a.setState({leaderboard:t});case 16:case"end":return e.stop()}},e,this)})),a.convertTime=function(e){var t=_()(new Date(e)),n=_()(),r=_.a.duration(n.diff(t));return Math.floor(r.asDays())+"d "+r.hours()+"h "+r.minutes()+"m "+r.seconds()+"s "+a.props.copy.sufix_leaderboard_when},a.avatarPath=k.a.avatarPath,a.maxUsers=25,a.state={leaderboard:[]},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){}},{key:"getLeaderboard",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0]&&t[0])){e.next=4;break}return e.next=4,this.updateLeaderboard();case 4:return e.abrupt("return",this.state.leaderboard);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(S.b)(),a=t&&t.variation;return d.a.createElement("div",{className:m()("Leaderboard-content")},d.a.createElement("table",null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,this.props.copy.title_leaderboard_bid),d.a.createElement("th",null,this.props.copy.title_leaderboard_from),d.a.createElement("th",null,this.props.copy.title_leaderboard_when))),d.a.createElement("tbody",null,this.state.leaderboard.map(function(t,n){return d.a.createElement("tr",{key:n,className:"Leaderboard-item"},d.a.createElement("td",null,Object(N.b)(t.bid,a)+" "+e.props.copy.piramid_ico),d.a.createElement("td",null,d.a.createElement("img",{src:t.image||e.avatarPath+t._id,alt:"bid user avatar"}),d.a.createElement("p",null,t.name)),d.a.createElement("td",null,e.convertTime(t.time)))}))))}}]),t}(d.a.PureComponent));L.defaultProps={copy:{}};var A=Object(b.b)(function(e){return{}},function(e){return{}},null,{withRef:!0})(L),D=(a(247),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onAppear=function(){a.animateIn()},a.onEnter=function(){var e=Object(s.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.animateIn();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.onLeave=function(){a.animateOut()},a.animateIn=function(){v.e.to(a.container,.8,{x:"0%",autoAlpha:1,ease:v.c.easeOut})},a.animateOut=function(){v.e.to(a.container,.1,{x:"0%",autoAlpha:0,ease:v.c.easeOut})},a.onClickBid=function(){Object(S.a)()?a.props.setMineState(a.state.asset):a.props.setLoginState(!0)},a.onOpenPreview=function(){a.state.asset.webgl&&(a.props.setAssetPreviewState(!0),a.props.setAssetData(a.state.asset.webgl))},a.updateLeaderboard=function(){a.leaderboard.getWrappedInstance().updateLeaderboard(),a.boxinfo.getWrappedInstance().updateHighest(a.leaderboard.getWrappedInstance().getHighest())},a.state={asset:{}},a.copy=Object(w.b)(a.props.language,"asset"),a.boxcopy=Object(w.b)(a.props.language,"boxinfo"),a.leaderoardcopy=Object(w.b)(a.props.language,"leaderboard"),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,v.e.set(this.container,{x:"100%",autoAlpha:0}),this.props.loaded){e.next=14;break}if(void 0===t.assetId){e.next=13;break}return e.next=6,Object(w.c)(t.assetId);case 6:return a=e.sent,e.next=9,this.leaderboard.getWrappedInstance().getLeaderboard(!0);case 9:a.updateFunction=this.updateLeaderboard,a.leadeboard=this.leaderboard,this.setState({asset:a}),this.updateLeaderboard();case 13:this.props.setAssetLoaded(!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:m()("Asset",this.props.className),ref:function(t){return e.container=t}},d.a.createElement("section",{className:"Asset-container"},d.a.createElement(O.a,{isSingle:!0,clickFunction:this.onClickBid,previewFunction:this.onOpenPreview,copy:this.boxcopy,data:this.state.asset,ref:function(t){return e.boxinfo=t}})),d.a.createElement("section",{className:"Asset-container leaderboard"},d.a.createElement("h1",null,this.copy.title_leaderboard),d.a.createElement(A,{copy:this.leaderoardcopy,ref:function(t){return e.leaderboard=t}})))}}]),t}(d.a.PureComponent));D.defaultProps={language:"en",loaded:!1};t.default=Object(b.b)(function(e,t){return{previousRoute:e.previousRoute,loaded:e.assetLoaded.loaded}},function(e){return{setAssetLoaded:function(t){return e((a=t,{type:E.a.ASSET_LOADED,loaded:a}));var a},setMineState:function(t){return e(Object(y.b)(t))},setLoginState:function(t){return e(Object(x.a)(t))},setAssetPreviewState:function(t){return e(Object(g.b)(t))},setAssetData:function(t){return e(Object(g.a)(t))}}})(Object(f.a)(D))}}]);
//# sourceMappingURL=4.36a8fe0e.chunk.js.map