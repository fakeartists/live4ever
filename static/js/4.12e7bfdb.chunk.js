(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{238:function(e,t,a){"use strict";var n=a(11),r=a.n(n),s=a(16),i=a(20),o=a.n(i),c=a(45),l=a(85),p=a.n(l),u=a(84),d="entering",b="entered",h="exiting";t.a=function(e){var t,a=function(){var e=Object(s.a)(r.a.mark(function e(a){var n,s,i,c=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:o.a,s=c.length>2&&void 0!==c[2]?c[2]:o.a,!a){e.next=10;break}return i=Object(u.a)(a)||0,n(i),e.next=7,p()(i);case 7:t.style.display="",e.next=12;break;case 10:t.style.display="",s();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n=e.prototype.componentDidMount;e.prototype.componentDidMount=function(){n&&n.call(this),(t=Object(c.findDOMNode)(this)).style.display="none",window.scrollTo(0,0),this.props.transitionState!==b&&this.props.transitionState!==d||a(this.props.previousRoute,this.onEnter,this.onAppear)};var i=e.prototype.componentDidUpdate;return e.prototype.componentDidUpdate=function(){i&&i.apply(this,arguments),this.props.transitionState===d?a(this.props.previousRoute,this.onEnter,this.onAppear):this.props.transitionState===h&&function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a)()}(this.onLeave)},e}},240:function(e,t,a){"use strict";var n=a(1),r=a(3),s=a(5),i=a(2),o=a(6),c=a(0),l=a.n(c),p=a(12),u=a.n(p),d=a(35),b=a.n(d),h=(a(21),a(15)),m=a(30),f=a(86),v=a(14),E=a(48),y=(a(241),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).updateHighest=function(e){a.setState({highest:e})},a.state={highest:0},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t,a,n,r,s,i=Object(v.b)(),o=i&&i.variation,c=b()(new Date(this.props.data.ends)),p=b()(),d=b.a.duration(c.diff(p)),h=Math.floor(d.asDays()),y=this.props.isSingle?"single":"",x=!(h<0||isNaN(h)),g="-",O=x?this.state.highest:this.props.data.highestbid,_=this.props.data.webgl?" preview":"",k=x?this.props.clickFunction:this.props.previewFunction,j=x?this.props.copy.image_click_bid:this.props.copy.image_click;x&&(O=(g=i.bidData.bid)>O?g:O,g=Object(E.b)(g,o));var N=O;return O=Object(E.b)(O,o),this.props.isSingle?(e=l.a.createElement("p",{className:"box-info-desc",dangerouslySetInnerHTML:{__html:this.props.data.full_description}}),x&&(t=l.a.createElement("button",{className:"box-info-button cta",onClick:this.props.clickFunction},this.props.copy.button_box_asset)),s=l.a.createElement("div",{className:"box-info-image-overlay"},l.a.createElement("div",{className:"box-info-image-overlay-ico"}),l.a.createElement("p",null,j)),a=l.a.createElement("div",{className:"box-info-asset"},l.a.createElement("li",null,l.a.createElement("ul",null,l.a.createElement("h1",null,this.props.copy.title_chain,":"),l.a.createElement("p",null,this.props.data.chain_info)),l.a.createElement("ul",null,l.a.createElement("h1",null,this.props.copy.title_contract,":"),l.a.createElement("p",null,this.props.data.contract_address)),l.a.createElement("ul",null,l.a.createElement("h1",null,this.props.copy.title_token,":"),l.a.createElement("p",null,this.props.data.token_id)),l.a.createElement("ul",null,l.a.createElement("h1",null,this.props.copy.title_blockchain),l.a.createElement("p",null,this.props.data.blockchain)))),this.props.data.reserve&&(n=l.a.createElement("div",{className:"box-info-box "+y},l.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_reserve),l.a.createElement("p",{className:"box-info-status-top-bid"},this.props.data.reserve+" "+this.props.copy.piramid_ico))),x&&(r=l.a.createElement("div",{className:"box-info-status-bid"},l.a.createElement("p",{className:"box-info-status-bid-title"},this.props.copy.title_user_bid),l.a.createElement("p",{className:"box-info-status-bid-bid"},g+" "+this.props.copy.piramid_ico)))):(e=l.a.createElement("p",{className:"box-info-desc"},this.props.data.short_description),k=null,s=l.a.createElement(m.a,{className:"box-info-image-overlay",link:"./asset/"+this.props.data._id},l.a.createElement("div",{className:"box-info-image-overlay-ico"})),t=l.a.createElement(m.a,{className:"box-info-button cta",link:"./asset/"+this.props.data._id},this.props.copy.button_box_home)),l.a.createElement("div",{className:u()("box-info",y)},l.a.createElement("div",{className:"box-info-bid"},l.a.createElement("div",{className:"box-info-image"+_,onClick:k},l.a.createElement("img",{src:this.props.data.image,alt:this.props.data.title}),s),l.a.createElement("div",{className:"box-info-data"},l.a.createElement("h2",{className:"box-info-data-title"},this.props.data.title),l.a.createElement("p",{className:"box-info-data-edition"},this.props.copy.title_edition+" "+this.props.data.edition+" "+this.props.copy.separator_edition+" "+this.props.data.sets),l.a.createElement("div",{className:"box-info-data-image"+_,onClick:k},l.a.createElement("img",{src:this.props.data.image,alt:this.props.data.title}),s),e,l.a.createElement("div",{className:"box-info-status"},l.a.createElement("div",{className:"box-info-status-top"},l.a.createElement("div",{className:"box-info-box "+y},l.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_bid),l.a.createElement("p",{className:"box-info-status-top-bid"},O+" "+this.props.copy.piramid_ico),l.a.createElement("p",{className:"box-info-status-info"},N+" "+this.props.copy.sub_title_bid)),l.a.createElement("div",{className:"box-info-box "+y},l.a.createElement("p",{className:"box-info-status-top-title"},this.props.copy.title_time),l.a.createElement(f.a,{copy:this.props.copy,isLanding:!1,endDate:this.props.data.ends})),n),l.a.createElement("div",{className:"box-info-status-bottom"},t,r)))),a)}}]),t}(l.a.PureComponent));y.defaultProps={copy:{},data:{},isSingle:!1,clickFunction:null,previewFunction:null};t.a=Object(h.b)(function(e){return{mineIsOpen:e.mineState.data}},function(e){return{}},null,{withRef:!0})(y)},241:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),s=a(16),i=a(1),o=a(3),c=a(5),l=a(2),p=a(6),u=a(0),d=a.n(u),b=a(15),h=a(12),m=a.n(h),f=(a(21),a(238)),v=a(9),E=a(13);a(37).a.register("assetLoaded",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a.ASSET_LOADED:return t.loaded;default:return e}});var y=a(39),x=a(47),g=a(59),O=a(240),_=a(35),k=a.n(_),j=a(22),N=a(19),w=a(48),S=a(14),L=(a(246),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).getRank=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(S.b)().login.id,n=a.state.leaderboard.findIndex(function(e){return e._id===t});if(null!=e)for(var r=n;r>=0;r--){if(!(e>=a.state.leaderboard[r].bid))break;n=r}return n+1},a.getHighest=function(){return a.state.leaderboard.length>0?a.state.leaderboard[0].bid:0},a.updateLeaderboard=Object(s.a)(r.a.mark(function e(){var t,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.e)();case 2:a.users=e.sent,t=[],n=0,e.t0=r.a.keys(a.users);case 6:if((e.t1=e.t0()).done){e.next=14;break}if(s=e.t1.value,a.users.hasOwnProperty(s)&&t.push(a.users[s]),!(n>=a.maxUsers)){e.next=11;break}return e.abrupt("break",14);case 11:n++,e.next=6;break;case 14:t.sort(function(e,t){return e.bid>t.bid?-1:1}),a.setState({leaderboard:t});case 16:case"end":return e.stop()}},e,this)})),a.convertTime=function(e){var t=k()(new Date(e)),n=k()(),r=k.a.duration(n.diff(t));return Math.floor(r.asDays())+"d "+r.hours()+"h "+r.minutes()+"m "+r.seconds()+"s "+a.props.copy.sufix_leaderboard_when},a.avatarPath=j.a.avatarPath,a.maxUsers=25,a.state={leaderboard:[]},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){}},{key:"getLeaderboard",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0&&void 0!==t[0]&&t[0])){e.next=4;break}return e.next=4,this.updateLeaderboard();case 4:return e.abrupt("return",this.state.leaderboard);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(S.b)(),a=t&&t.variation;return d.a.createElement("div",{className:m()("Leaderboard-content")},d.a.createElement("table",null,d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,this.props.copy.title_leaderboard_bid),d.a.createElement("th",null,this.props.copy.title_leaderboard_from),d.a.createElement("th",null,this.props.copy.title_leaderboard_when))),d.a.createElement("tbody",null,this.state.leaderboard.map(function(t,n){return d.a.createElement("tr",{key:n,className:"Leaderboard-item"},d.a.createElement("td",null,Object(w.b)(t.bid,a)+" "+e.props.copy.piramid_ico),d.a.createElement("td",null,d.a.createElement("img",{src:t.image||e.avatarPath+t._id,alt:"bid user avatar"}),d.a.createElement("p",null,t.name)),d.a.createElement("td",null,e.convertTime(t.time)))}))))}}]),t}(d.a.PureComponent));L.defaultProps={copy:{}};var D=Object(b.b)(function(e){return{}},function(e){return{}},null,{withRef:!0})(L),A=(a(247),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).onAppear=function(){a.animateIn()},a.onEnter=function(){var e=Object(s.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.animateIn();case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.onLeave=function(){a.animateOut()},a.animateIn=function(){v.e.to(a.container,.8,{x:"0%",autoAlpha:1,ease:v.c.easeOut})},a.animateOut=function(){v.e.to(a.container,.1,{x:"0%",autoAlpha:0,ease:v.c.easeOut})},a.onClickBid=function(){Object(S.a)()?a.props.setMineState(a.state.asset):a.props.setLoginState(!0)},a.onOpenPreview=function(){a.state.asset.webgl&&(a.props.setAssetPreviewState(!0),a.props.setAssetData(a.state.asset.webgl))},a.updateLeaderboard=function(){a.leaderboard.getWrappedInstance().updateLeaderboard(),a.boxinfo.getWrappedInstance().updateHighest(a.leaderboard.getWrappedInstance().getHighest())},a.state={asset:{}},a.copy=Object(N.b)(a.props.language,"asset"),a.boxcopy=Object(N.b)(a.props.language,"boxinfo"),a.leaderoardcopy=Object(N.b)(a.props.language,"leaderboard"),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,v.e.set(this.container,{x:"100%",autoAlpha:0}),this.props.loaded){e.next=14;break}if(void 0===t.assetId){e.next=13;break}return e.next=6,Object(N.c)(t.assetId);case 6:return a=e.sent,e.next=9,this.leaderboard.getWrappedInstance().getLeaderboard(!0);case 9:a.updateFunction=this.updateLeaderboard,a.leadeboard=this.leaderboard,this.setState({asset:a}),this.updateLeaderboard();case 13:this.props.setAssetLoaded(!0);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:m()("Asset",this.props.className),ref:function(t){return e.container=t}},d.a.createElement("section",{className:"Asset-container"},d.a.createElement(O.a,{isSingle:!0,clickFunction:this.onClickBid,previewFunction:this.onOpenPreview,copy:this.boxcopy,data:this.state.asset,ref:function(t){return e.boxinfo=t}})),d.a.createElement("section",{className:"Asset-container leaderboard"},d.a.createElement("h1",null,this.copy.title_leaderboard),d.a.createElement(D,{copy:this.leaderoardcopy,ref:function(t){return e.leaderboard=t}})))}}]),t}(d.a.PureComponent));A.defaultProps={language:"en",loaded:!1};t.default=Object(b.b)(function(e,t){return{previousRoute:e.previousRoute,loaded:e.assetLoaded.loaded}},function(e){return{setAssetLoaded:function(t){return e((a=t,{type:E.a.ASSET_LOADED,loaded:a}));var a},setMineState:function(t){return e(Object(y.b)(t))},setLoginState:function(t){return e(Object(x.a)(t))},setAssetPreviewState:function(t){return e(Object(g.b)(t))},setAssetData:function(t){return e(Object(g.a)(t))}}})(Object(f.a)(A))}}]);
//# sourceMappingURL=4.12e7bfdb.chunk.js.map